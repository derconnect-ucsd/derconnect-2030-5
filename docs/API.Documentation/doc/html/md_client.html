<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EPRI 2030.5 Client: Client API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EPRI 2030.5 Client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_client.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Client API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The IEEE 2030.5 client API provides a means for developers to integrate IEEE 2030.5 functionality into their applications. At the base is a portable platform layer that includes support for files, TCP connections, UDP ports, timers, and events. The event polling mechanism provides a portable and unified way of processing operating system events that is both responsive (non-blocking) and balanced (includes round robin scheduling).</p>
<p>After platform initialization and interface selection are performed, the client will typically perform the following:</p>
<ul>
<li>DNS service discovery (DNS-SD)</li>
<li>TCP/TLS connection establishment</li>
<li>Resource retrieval</li>
<li>Event scheduling</li>
</ul>
<p>These and other functions are divided up into the following modules:</p>
<h2>Platform </h2>
<p>The platform layer provides portable functions for performing operating system I/O. The platform layer consists of the following modules:</p>
<ul>
<li><a class="el" href="group__platform.html">Platform</a><ul>
<li><a class="el" href="group__event.html">Event</a></li>
<li><a class="el" href="group__file.html">File</a></li>
<li><a class="el" href="group__timer.html">Timer</a></li>
<li><a class="el" href="group__network.html">Network</a></li>
</ul>
</li>
</ul>
<p>Applications must call <a class="el" href="group__platform.html#ga390c450e83ddc7807da2e9f0a894d8d1">platform_init</a> before any other I/O based function call to properly initialize the platform layer.</p>
<h3>Events</h3>
<p>Applications call <a class="el" href="group__event.html#gaab7ac3049413d657bde5b7a6ae33c128">event_poll</a> to retrieve events from the platform layer. The set of events that can be retrieved from the platform layer are fixed, relating to network operations, expiring timers, and polling timeouts. This base set of events can be extended by adding timers and defining higher level event retrieval functions. For example <a class="el" href="group__client.html#ga7c5c3327618a1b3c4757c415fb42ba8d">client_poll</a> processes UDP level packets from the service discovery port and returns a <code>SERVICE_FOUND</code> event to report a new service to the client.</p>
<p>For the purpose of defining new events the plaform layer includes the constant <code>EVENT_NEW</code>. Higher level event retrieval functions can extend the set of events by returning unique offsets from <code>EVENT_NEW</code>.</p>
<h3>File I/O</h3>
<p>Developers can use the standard C functions to perform file I/O portably, however there are no standard functions that can determine the file type or process directories. For these purposes the platform layer provides <a class="el" href="group__file.html#ga2fc3c2a4230816bcc6c264a334d62c3c">file_type</a> to determine whether a file name represents a regular file or a directory, and also <a class="el" href="group__file.html#ga3d464d8bbd8ca54a1686258319f5eeb3">process_dir</a> to process the files within a directory.</p>
<h3>Timers</h3>
<p>Timers are another platform dependent feature. The platform layer provides <a class="el" href="group__timer.html#ga0aaa8477c77e036e7f41f7704721b9f7">add_timer</a> and <a class="el" href="group__timer.html#gab1f067b2c41862d5cf2a06ca8a5359da">new_timer</a> to create timers. The value passed to these functions are returned by <a class="el" href="group__event.html#gaab7ac3049413d657bde5b7a6ae33c128">event_poll</a> at the time indicated by <a class="el" href="group__timer.html#gacbdc140f686e71964beb4e5608313b5b">set_timer</a>. They should be defined as a unique offset from <code>EVENT_NEW</code> in order to distinguish timer events from other event types.</p>
<h3>Networking</h3>
<p>The network layer provides a base for the IEEE 2030.5 functionality. Service discovery is performed by exchanging UDP packets, the HTTP RESTful operations that form the core of the IEEE 2030.5 protocol are performed on top of a TCP connection. In addition to providing this base, the network layer gives the developer a means of performing network operations portably and efficiently.</p>
<h2>Security/TLS Initialization </h2>
<p>The security layer provides the means for loading device and root certifcates, initializing the TLS library, and computing the device credentials (LFDI and SFDI).</p>
<ul>
<li><a class="el" href="group__security.html">Security</a></li>
</ul>
<h2>Schema </h2>
<p>IEEE 2030.5 resources are defined by an XML schema (sep.xsd). This schema is processed to extract C type definitions (se_types.h) and a table (se_schema.c) which can be used to transform 2030.5 resources from their XML or EXI representation into a C object representation. The process can also be reversed, transforming a C object into an XML or EXI representation. The <a class="el" href="group__schema.html">Schema</a> module provides basic types for representing schemas in table form, and methods for querying the schema table and performing operations on schema based objects.</p>
<ul>
<li><a class="el" href="group__schema.html">Schema</a></li>
<li><a class="el" href="group__se__object.html">IEEE 2030.5 Schema</a></li>
<li><a class="el" href="group__se__types.html">2030.5 Types</a></li>
</ul>
<h2>Parsing / Output </h2>
<p>The <a class="el" href="group__parse.html">Parse</a> and <a class="el" href="group__output.html">Output</a> modules provide the means to transform a resource from its XML or EXI representation into its C object representation and vice versa. These modules are general purpose however support is currently limited to the features required by the IEEE 2030.5 XML schema.</p>
<ul>
<li><a class="el" href="group__parse.html">Parse</a></li>
<li><a class="el" href="group__output.html">Output</a></li>
</ul>
<h2>Connections </h2>
<p>The client API provides three types of connections that build upon each other to provide higher level functionality.</p>
<p>The <a class="el" href="group__connection.html">Connection</a> module extends the platform <code>TcpPort</code> to provide either a TCP or a TCP+TLS connection with a server. The <a class="el" href="group__http__connection.html">HttpConnection</a> module extends the <a class="el" href="group__connection.html">Connection</a> module to provide support for HTTP client and server connections. Finally, the <a class="el" href="group__se__connection.html">SeConnection</a> module extends the <a class="el" href="group__http__connection.html">HttpConnection</a> module to provide support for IEEE 2030.5 media types, "application/sep+xml" and "application/sep-exi".</p>
<ul>
<li><a class="el" href="group__connection.html">Connection</a></li>
<li><a class="el" href="group__http__connection.html">HttpConnection</a></li>
<li><a class="el" href="group__se__connection.html">SeConnection</a></li>
</ul>
<h2>Service Discovery </h2>
<p>The <a class="el" href="group__dnssd__client.html">Service Discovery</a> module provide functions for DNS service discovery (DNS-SD). The <a class="el" href="group__se__discover.html">IEEE 2030.5 Service Discovery</a> module extends the <a class="el" href="group__dnssd__client.html">Service Discovery</a> module to provide support for IEEE 2030.5 subtype queries and connecting with IEEE 2030.5 service providers.</p>
<ul>
<li><a class="el" href="group__dnssd__client.html">Service Discovery</a></li>
<li><a class="el" href="group__se__discover.html">IEEE 2030.5 Service Discovery</a></li>
</ul>
<h2>Event Queuing </h2>
<p>The <a class="el" href="group__event__queue.html">Event Queue</a> module provides a means to add time based events without the need to create a new system timer for each type of event. The <a class="el" href="group__event__queue.html">Event Queue</a> uses only a single timer which set to expire for the time of the next event.</p>
<ul>
<li><a class="el" href="group__event__queue.html">Event Queue</a></li>
</ul>
<h2>Retrieval </h2>
<p>The <a class="el" href="group__retrieve.html">Retrieve</a> module provides high level functions for IEEE 2030.5 resource retrieval, including support for creating placeholders called <a class="el" href="structStub.html">Stub</a> resources, tracking requirements and dependencies, and signaling retrieval completion.</p>
<ul>
<li><a class="el" href="group__retrieve.html">Retrieve</a></li>
</ul>
<h2>Scheduling </h2>
<p>For event based function sets such as Distributed Energy Resources (DER) the <a class="el" href="group__schedule.html">Schedule</a> module provides functions and data structures to organize the events into schedules (<a class="el" href="structSchedule.html">Schedule</a>) corresponding to particular EndDevices. Scheduling is done first when retrieval is complete for a given function set and is subsequently updated as events become active, are completed, superseded, or canceled. These events are recorded internally as the <a class="el" href="group__event__queue.html">Event Queue</a> events <code>EVENT_START</code> and <code>EVENT_END</code> so that the client application can respond appropriately to them.</p>
<ul>
<li><a class="el" href="group__schedule.html">Schedule</a></li>
</ul>
<h2>DER Client </h2>
<p>The <a class="el" href="group__der.html">DER Device</a> module organizes the resources of a DER EndDevice providing a method of scheduling DERControls based upon the FunctionSetAssignments for an EndDevice.</p>
<ul>
<li><a class="el" href="group__der.html">DER Device</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
